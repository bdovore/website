<?php/** * Dump MySQL de bdovore_db5 * **/minAccessLevel(0);set_time_limit(3600);echo "Votre base est en cours de sauvegarde.......\n<br />";flush();// nom du fichier d'export$a_table = array('bd_auteur','bd_collection','bd_editeur','bd_edition','bd_genre','bd_serie','bd_tome','db_column','db_column_constraint','edito','menu_admin','news','newsletter','serie_comment','users_comment','users','users_alb_prop','users_exclusions','users_list_aut','users_list_carre');//$a_table = array( 'users_album');$fileDump = 'dump_bdovore_db5_table_'.date('Ymd-His').'';// extraction avec mysqldumpexec("mysqldump -l -K -q --max_allowed_packet=1M --add-locks --host=mysql5-3 --user=bdovore_db5 --password=mJCAN5jS bdovore_db5 --tables ".implode(' ',$a_table)." > " . $fileDump. ".sql");// compression avec zipexec("zip -r " . $fileDump . ".zip " . $fileDump . ".sql");// deplacementexec("mv " . $fileDump . ".zip /homez.95/bdovore/backup/mysqldump/bdovore_db5");// suppressionexec("rm " . $fileDump . ".sql");// etudier la copie dans repertoire backup pour eviter le download en http et pour archiveecho "<hr>C'est fini. Vous pouvez récupérer la base par FTP <br />Fichier : /homez.95/bdovore/backup/mysqldump/bdovore_db5/" . $fileDump . '.zip';